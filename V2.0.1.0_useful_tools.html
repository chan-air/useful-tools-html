<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实用小工具</title>
    <style>
        /* 保持原有样式不变 */
        
         :root {
            /* 默认主题颜色 */
            --primary-start: #667eea;
            --primary-end: #764ba2;
            --accent-color: #667eea;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f7fa;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        /* 深色模式样式 */
        
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        
        body.dark-mode .content-card,
        body.dark-mode .page-header,
        body.dark-mode .tool-card {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }
        
        body.dark-mode .content-card h2,
        body.dark-mode .page-header h1,
        body.dark-mode .page-header p,
        body.dark-mode .tool-card h3 {
            color: #ffffff;
        }
        
        body.dark-mode .content-card p,
        body.dark-mode .tool-card p {
            color: #cccccc;
        }
        
        body.dark-mode .settings-group h3 {
            color: #ffffff;
            border-bottom-color: #444444;
        }
        
        body.dark-mode .setting-item {
            border-bottom-color: #333333;
        }
        
        body.dark-mode .setting-label {
            color: #e0e0e0;
        }
        /* 深色模式下工具卡片内部元素样式 */
        
        body.dark-mode .calc-display {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .calc-btn {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .calc-btn:hover {
            background-color: #4a4a4a;
        }
        
        body.dark-mode .calc-btn.operator {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
        }
        
        body.dark-mode .calc-btn.operator:hover {
            background-color: #5a67d8;
        }
        
        body.dark-mode .calc-btn.equals {
            background-color: #28a745;
            border-color: #28a745;
        }
        
        body.dark-mode .calc-btn.equals:hover {
            background-color: #218838;
        }
        
        body.dark-mode .calc-btn.clear {
            background-color: #dc3545;
            border-color: #dc3545;
        }
        
        body.dark-mode .calc-btn.clear:hover {
            background-color: #c82333;
        }
        
        body.dark-mode .timer-display {
            color: #e0e0e0;
        }
        
        body.dark-mode .timer-btn {
            background-color: var(--accent-color);
        }
        
        body.dark-mode .timer-btn:hover {
            background-color: #5a67d8;
        }
        
        body.dark-mode .timer-btn.stop {
            background-color: #dc3545;
        }
        
        body.dark-mode .timer-btn.stop:hover {
            background-color: #c82333;
        }
        
        body.dark-mode .timer-lap {
            background-color: #3a3a3a;
            color: #e0e0e0;
        }
        
        body.dark-mode .color-preview {
            border-color: #555555;
        }
        
        body.dark-mode .color-input-group label {
            color: #e0e0e0;
        }
        
        body.dark-mode .color-input {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .color-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        
        body.dark-mode .color-value {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .text-input-group label {
            color: #e0e0e0;
        }
        
        body.dark-mode .text-input {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .text-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        
        body.dark-mode .text-output {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .text-action-btn {
            background-color: var(--accent-color);
        }
        
        body.dark-mode .text-action-btn:hover {
            background-color: #5a67d8;
        }
        /* 倒计时样式 */
        
        .countdown-container {
            width: 100%;
        }
        
        .countdown-mode-selector {
            display: flex;
            margin-bottom: 10px;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #dee2e6;
        }
        
        .countdown-mode-btn {
            flex: 1;
            padding: 8px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .countdown-mode-btn.active {
            background: var(--accent-color);
            color: white;
        }
        
        .countdown-mode-btn:hover:not(.active) {
            background: #e9ecef;
        }
        
        .countdown-input-group {
            margin-bottom: 10px;
        }
        
        .countdown-input-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: 500;
            color: #333;
            font-size: 12px;
        }
        
        .countdown-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 12px;
            transition: border-color 0.3s ease;
        }
        
        .countdown-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .countdown-duration-inputs {
            display: none;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .countdown-duration-inputs.active {
            display: grid;
        }
        
        .countdown-duration-input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .countdown-duration-input {
            width: 100%;
            padding: 12px 8px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
            text-align: center;
            transition: border-color 0.3s ease;
            font-weight: 600;
            cursor: ns-resize;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
        
        .countdown-duration-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            cursor: text;
            user-select: text;
            -moz-user-select: text;
            -webkit-user-select: text;
            -ms-user-select: text;
        }
        
        .countdown-duration-input:hover {
            border-color: var(--accent-color);
        }
        
        .countdown-duration-controls {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-top: 4px;
        }
        
        .countdown-duration-btn {
            width: 24px;
            height: 24px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            color: #333;
        }
        
        .countdown-duration-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        .countdown-display {
            display: flex;
            justify-content: space-around;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .countdown-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .countdown-unit span:first-child {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            font-family: 'Courier New', monospace;
        }
        
        .countdown-unit span:last-child {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }
        
        .countdown-controls {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .countdown-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .countdown-btn:hover {
            background: #5a67d8;
        }
        
        .countdown-btn:active {
            transform: scale(0.95);
        }
        
        .countdown-btn.pause {
            background: #ffc107;
        }
        
        .countdown-btn.pause:hover {
            background: #e0a800;
        }
        /* 深色模式下的倒计时样式 */
        
        body.dark-mode .countdown-mode-selector {
            border-color: #555555;
        }
        
        body.dark-mode .countdown-mode-btn {
            background: #3a3a3a;
            color: #e0e0e0;
        }
        
        body.dark-mode .countdown-mode-btn:hover:not(.active) {
            background: #4a4a4a;
        }
        
        body.dark-mode .countdown-input-group label {
            color: #e0e0e0;
        }
        
        body.dark-mode .countdown-input {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .countdown-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        
        body.dark-mode .countdown-duration-input {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .countdown-duration-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        
        body.dark-mode .countdown-duration-input:hover {
            border-color: var(--accent-color);
        }
        
        body.dark-mode .countdown-duration-btn {
            background: #3a3a3a;
            color: #e0e0e0;
            border-color: #555555;
        }
        
        body.dark-mode .countdown-duration-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        body.dark-mode .countdown-unit span:first-child {
            color: #e0e0e0;
        }
        
        body.dark-mode .countdown-unit span:last-child {
            color: #cccccc;
        }
        /* 禁用动画时的样式 */
        
        body.no-animations * {
            animation: none !important;
            transition: none !important;
        }
        /* 更新日志样式 */
        
        .changelog-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .changelog-item {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        body.dark-mode .changelog-item {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }
        
        .changelog-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .changelog-version {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .changelog-date {
            color: #666;
            font-size: 14px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        body.dark-mode .changelog-date {
            color: #cccccc;
        }
        
        .changelog-content {
            margin-top: 16px;
        }
        
        .changelog-content ul {
            list-style: none;
            padding: 0;
        }
        
        .changelog-content li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
            color: #555;
            line-height: 1.6;
            transition: color 0.3s ease;
        }
        
        body.dark-mode .changelog-content li {
            color: #cccccc;
        }
        
        .changelog-content li::before {
            content: '•';
            position: absolute;
            left: 8px;
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .changelog-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        .changelog-badge.new {
            background: #28a745;
            color: white;
        }
        
        .changelog-badge.improved {
            background: #17a2b8;
            color: white;
        }
        
        .changelog-badge.fixed {
            background: #dc3545;
            color: white;
        }
        
        .changelog-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .changelog-header h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
            transition: color 0.3s ease;
        }
        
        body.dark-mode .changelog-header h1 {
            color: #ffffff;
        }
        
        .changelog-header p {
            color: #666;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        
        body.dark-mode .changelog-header p {
            color: #cccccc;
        }
        /* 侧边栏容器 */
        
        .sidebar-container {
            position: fixed;
            top: 0;
            height: 100vh;
            z-index: 1000;
        }
        /* LTR模式下的侧边栏位置 */
        
        html[dir="ltr"] .sidebar-container {
            left: 0;
        }
        /* RTL模式下的侧边栏位置 */
        
        html[dir="rtl"] .sidebar-container {
            right: 0;
        }
        /* 侧边栏主体 */
        
        .sidebar {
            width: 60px;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-start) 0%, var(--primary-end) 100%);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
            transition: width 0.3s ease;
            overflow: hidden;
            position: relative;
        }
        /* LTR模式下的侧边栏圆角 */
        
        html[dir="ltr"] .sidebar {
            border-radius: 0 10px 10px 0;
        }
        /* RTL模式下的侧边栏圆角 */
        
        html[dir="rtl"] .sidebar {
            border-radius: 10px 0 0 10px;
        }
        /* 鼠标悬停时展开 - 可通过设置控制 */
        
        .sidebar-container:hover .sidebar {
            width: 250px;
        }
        
        .sidebar-container.no-hover:hover .sidebar {
            width: 60px;
        }
        /* 菜单项容器 */
        
        .menu-items {
            padding: 0;
            list-style: none;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        /* Logo菜单项 */
        
        .logo-item {
            position: relative;
            margin: 0;
            height: 60px;
        }
        
        .logo-link {
            display: flex;
            align-items: center;
            padding: 0;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: default;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
        
        .sidebar-container:hover .logo-link {
            padding: 0 20px;
        }
        
        .sidebar-container.no-hover:hover .logo-link {
            padding: 0;
        }
        /* 单个菜单项 */
        
        .menu-item {
            position: relative;
            margin: 0;
        }
        /* 首页菜单项添加上边距 */
        
        .menu-item:first-of-type {
            margin-top: 10px;
        }
        
        .menu-link {
            display: flex;
            align-items: center;
            padding: 0;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            width: 100%;
            height: 60px;
        }
        
        .sidebar-container:hover .menu-link {
            padding: 0 20px;
        }
        
        .sidebar-container.no-hover:hover .menu-link {
            padding: 0;
        }
        
        .menu-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        
        .menu-link.active {
            background-color: rgba(255, 255, 255, 0.2);
            color: #fff;
        }
        
        .menu-link:active {
            transform: scale(0.98);
        }
        /* 图标容器 */
        
        .menu-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: absolute;
            transition: all 0.3s ease;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }
        /* LTR模式下的图标位置 */
        
        html[dir="ltr"] .menu-icon {
            left: 10px;
        }
        
        html[dir="ltr"] .sidebar-container:hover .menu-icon {
            left: 20px;
        }
        
        html[dir="ltr"] .sidebar-container.no-hover:hover .menu-icon {
            left: 10px;
        }
        /* RTL模式下的图标位置 */
        
        html[dir="rtl"] .menu-icon {
            right: 10px;
        }
        
        html[dir="rtl"] .sidebar-container:hover .menu-icon {
            right: 20px;
        }
        
        html[dir="rtl"] .sidebar-container.no-hover:hover .menu-icon {
            right: 10px;
        }
        /* SVG图标样式 */
        
        .menu-icon svg {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        /* Logo图标特殊样式 */
        
        .logo-icon svg {
            width: 28px;
            height: 28px;
            stroke-width: 1.5;
        }
        /* 菜单文本 */
        
        .menu-text {
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s ease;
            position: absolute;
            display: flex;
            align-items: center;
            height: 100%;
            pointer-events: none;
        }
        /* LTR模式下的菜单文本位置 */
        
        html[dir="ltr"] .menu-text {
            left: 70px;
            transform: translateX(-10px);
        }
        
        html[dir="ltr"] .sidebar-container:hover .menu-text {
            opacity: 1 !important;
            transform: translateX(0) !important;
        }
        
        html[dir="ltr"] .sidebar-container.no-hover:hover .menu-text {
            opacity: 0;
            transform: translateX(-10px);
        }
        /* RTL模式下的菜单文本位置 */
        
        html[dir="rtl"] .menu-text {
            right: 70px;
            transform: translateX(10px);
        }
        
        html[dir="rtl"] .sidebar-container:hover .menu-text {
            opacity: 1 !important;
            transform: translateX(0) !important;
        }
        
        html[dir="rtl"] .sidebar-container.no-hover:hover .menu-text {
            opacity: 0;
            transform: translateX(10px);
        }
        /* Logo文本特殊样式 */
        
        .logo-text {
            font-size: 16px;
            font-weight: 600;
        }
        /* 主内容区域 */
        
        .main-content {
            padding: 40px;
            min-height: 100vh;
            transition: margin 0.3s ease;
        }
        /* LTR模式下的内容区域边距 */
        
        html[dir="ltr"] .main-content {
            margin-left: 60px;
            margin-right: 0;
        }
        
        html[dir="ltr"] .sidebar-container:hover~.main-content {
            margin-left: 250px;
            margin-right: 0;
        }
        
        html[dir="ltr"] .sidebar-container.no-hover:hover~.main-content {
            margin-left: 60px;
            margin-right: 0;
        }
        /* RTL模式下的内容区域边距 */
        
        html[dir="rtl"] .main-content {
            margin-right: 60px;
            margin-left: 0;
        }
        
        html[dir="rtl"] .sidebar-container:hover~.main-content {
            margin-right: 250px;
            margin-left: 0;
        }
        
        html[dir="rtl"] .sidebar-container.no-hover:hover~.main-content {
            margin-right: 60px;
            margin-left: 0;
        }
        /* 内容页面 */
        
        .content-page {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        
        .content-page.active {
            display: block;
        }
        /* 内容卡片 */
        
        .content-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            transition: background-color 0.3s ease;
        }
        
        .content-card h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 24px;
            transition: color 0.3s ease;
        }
        
        .content-card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        /* 顶部标题 */
        
        .page-header {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: background-color 0.3s ease;
        }
        
        .page-header h1 {
            color: #333;
            font-size: 32px;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        
        .page-header p {
            color: #666;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        /* 工具卡片网格 */
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        /* 工具卡片 */
        
        .tool-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .tool-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .tool-card-header {
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #eee;
            background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
            color: white;
        }
        
        .tool-card h3 {
            color: white;
            font-size: 16px;
            margin: 0;
            transition: color 0.3s ease;
        }
        
        .tool-card p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 12px;
            margin: 2px 0 0;
            transition: color 0.3s ease;
        }
        
        .tool-card-content {
            padding: 15px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .tool-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .tool-icon svg {
            width: 24px;
            height: 24px;
            stroke: white;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        /* 计算器样式 */
        
        .calculator {
            width: 100%;
        }
        
        .calc-display {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 10px;
            text-align: right;
            font-size: 18px;
            font-weight: 500;
            color: #333;
            min-height: 36px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .calc-btn {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px 0;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .calc-btn:hover {
            background: #e9ecef;
        }
        
        .calc-btn:active {
            transform: scale(0.95);
        }
        
        .calc-btn.operator {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        .calc-btn.operator:hover {
            background: #5a67d8;
        }
        
        .calc-btn.equals {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }
        
        .calc-btn.equals:hover {
            background: #218838;
        }
        
        .calc-btn.clear {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }
        
        .calc-btn.clear:hover {
            background: #c82333;
        }
        /* 计时器样式 */
        
        .timer-display {
            font-size: 24px;
            font-weight: 600;
            text-align: center;
            margin: 10px 0;
            color: #333;
            font-family: 'Courier New', monospace;
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .timer-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timer-btn:hover {
            background: #5a67d8;
        }
        
        .timer-btn:active {
            transform: scale(0.95);
        }
        
        .timer-btn.stop {
            background: #dc3545;
        }
        
        .timer-btn.stop:hover {
            background: #c82333;
        }
        
        .timer-laps {
            max-height: 100px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .timer-lap {
            background: #f8f9fa;
            border-radius: 4px;
            padding: 6px 10px;
            margin-bottom: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }
        /* 颜色转换器样式 */
        
        .color-converter {
            width: 100%;
        }
        
        .color-preview {
            width: 100%;
            height: 60px;
            border-radius: 6px;
            margin-bottom: 10px;
            border: 1px solid #dee2e6;
            transition: all 0.3s ease;
        }
        
        .color-input-group {
            margin-bottom: 8px;
        }
        
        .color-input-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: 500;
            color: #333;
            font-size: 12px;
        }
        
        .color-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 12px;
            transition: border-color 0.3s ease;
        }
        
        .color-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .color-input.error {
            border-color: #dc3545;
            animation: shake 0.3s;
        }
        
        .color-values {
            display: grid;
            grid-template-columns: 1fr;
            gap: 6px;
        }
        
        .color-value {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 11px;
        }
        /* 文本工具样式 */
        
        .text-tools {
            width: 100%;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .text-input-group {
            margin-bottom: 8px;
        }
        
        .text-input-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: 500;
            color: #333;
            font-size: 12px;
        }
        
        .text-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 12px;
            transition: border-color 0.3s ease;
            resize: none;
        }
        
        .text-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .text-output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 8px;
            min-height: 60px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.3;
            flex: 1;
        }
        
        .text-actions {
            display: flex;
            gap: 6px;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }
        
        .text-action-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .text-action-btn:hover {
            background: #5a67d8;
        }
        /* 设置页面样式 */
        
        .settings-group {
            margin-bottom: 30px;
        }
        
        .settings-group h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
            transition: border-color 0.3s ease;
        }
        
        .setting-item:last-child {
            border-bottom: none;
        }
        
        .setting-label {
            color: #555;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .setting-control {
            display: flex;
            align-items: center;
        }
        /* 开关按钮 */
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .3s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .3s;
            border-radius: 50%;
        }
        
        input:checked+.slider {
            background-color: var(--accent-color);
        }
        
        input:checked+.slider:before {
            transform: translateX(26px);
        }
        /* 主题颜色选择器 */
        
        .theme-section {
            margin-bottom: 15px;
        }
        
        .theme-section-title {
            font-size: 12px;
            color: #888;
            margin-bottom: 8px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .theme-colors {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .theme-color {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .theme-color:hover {
            transform: scale(1.1);
        }
        
        .theme-color.active {
            border-color: #333;
        }
        
        .theme-color.active::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
        }
        /* 美化的语言选择器样式 */
        
        .language-selector {
            position: relative;
            min-width: 180px;
            max-width: 300px;
            width: 100%;
        }
        
        .language-select {
            width: 100%;
            min-width: 180px;
            max-width: 300px;
            padding: 10px 15px;
            padding-right: 40px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background-color: white;
            color: #333;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 18px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .language-select:hover {
            border-color: var(--accent-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .language-select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }
        
        body.dark-mode .language-select {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border-color: #555;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e0e0e0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        body.dark-mode .language-select:hover {
            border-color: var(--accent-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .language-select:focus {
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }
        /* 通知样式 */
        
        .notification {
            position: fixed;
            top: 20px;
            background: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 3000;
            max-width: 300px;
            border-left: 4px solid var(--accent-color);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        /* LTR模式下的通知位置 */
        
        html[dir="ltr"] .notification {
            right: 20px;
            left: auto;
        }
        /* RTL模式下的通知位置 */
        
        html[dir="rtl"] .notification {
            left: 20px;
            right: auto;
        }
        
        body.dark-mode .notification {
            background: #2d2d2d;
            color: #e0e0e0;
        }
        /* 响应式设计 */
        
        @media (max-width: 768px) {
            .sidebar-container:hover .sidebar {
                width: 200px;
            }
            html[dir="ltr"] .sidebar-container:hover~.main-content {
                margin-left: 200px;
            }
            html[dir="rtl"] .sidebar-container:hover~.main-content {
                margin-right: 200px;
            }
            html[dir="ltr"] .main-content {
                margin-left: 60px;
                padding: 20px;
            }
            html[dir="rtl"] .main-content {
                margin-right: 60px;
                padding: 20px;
            }
            .tools-grid {
                grid-template-columns: 1fr;
            }
        }
        /* 动画效果 */
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLTR {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRTL {
            from {
                opacity: 0;
                transform: translateX(-100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideOutLTR {
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }
        
        @keyframes slideOutRTL {
            to {
                opacity: 0;
                transform: translateX(-100%);
            }
        }
        
        @keyframes shake {
            0%,
            100% {
                transform: translateX(0);
            }
            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-5px);
            }
            20%,
            40%,
            60%,
            80% {
                transform: translateX(5px);
            }
        }
        /* 根据方向应用不同的动画 */
        
        html[dir="ltr"] .notification {
            animation: slideInLTR 0.3s ease-out;
        }
        
        html[dir="rtl"] .notification {
            animation: slideInRTL 0.3s ease-out;
        }
    </style>
</head>

<body>
    <!-- 侧边栏容器 -->
    <div class="sidebar-container" id="sidebarContainer">
        <nav class="sidebar">
            <ul class="menu-items">
                <!-- Logo位置 -->
                <li class="logo-item">
                    <a href="#" class="logo-link">
                        <span class="menu-icon logo-icon">
                            <!-- Logo图标 SVG -->
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2L2 7L12 12L22 7L12 2Z"></path>
                                <path d="M2 17L12 22L22 17"></path>
                                <path d="M2 12L12 17L22 12"></path>
                            </svg>
                        </span>
                        <span class="menu-text logo-text" data-i18n="system-title">实用小工具</span>
                    </a>
                </li>

                <!-- 首页菜单项 -->
                <li class="menu-item">
                    <a href="#" class="menu-link active" data-page="home">
                        <span class="menu-icon">
                            <!-- 首页图标 SVG -->
                            <svg viewBox="0 0 24 24">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu-home">首页</span>
                    </a>
                </li>

                <!-- 更新日志菜单项 -->
                <li class="menu-item">
                    <a href="#" class="menu-link" data-page="changelog">
                        <span class="menu-icon">
                            <!-- 更新日志图标 SVG -->
                            <svg viewBox="0 0 24 24">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu-changelog">更新日志</span>
                    </a>
                </li>

                <!-- 设置菜单项 -->
                <li class="menu-item">
                    <a href="#" class="menu-link" data-page="settings">
                        <span class="menu-icon">
                            <!-- 设置图标 SVG -->
                            <svg viewBox="0 0 24 24">
                                <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5A3.5 3.5 0 0 1 15.5 12A3.5 3.5 0 0 1 12 15.5M19.43 12.97C19.47 12.65 19.5 12.33 19.5 12C19.5 11.67 19.47 11.34 19.43 11L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.96 19.05 5.05L16.56 6.05C16.04 5.66 15.5 5.32 14.87 5.07L14.5 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.5 2.42L9.13 5.07C8.5 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 12.65 4.57 12.97L2.46 14.63C2.27 14.78 2.21 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.5 18.68 9.13 18.93L9.5 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.5 21.58L14.87 18.93C15.5 18.67 16.04 18.34 16.56 17.94L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.97Z"></path>
                            </svg>
                        </span>
                        <span class="menu-text" data-i18n="menu-settings">系统设置</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <!-- 主内容区域 -->
    <main class="main-content">
        <!-- 首页内容 -->
        <div id="home-page" class="content-page active">
            <div class="page-header">
                <h1 data-i18n="home-welcome">实用小工具集合</h1>
                <p data-i18n="home-description">这里提供了一些日常实用的在线小工具，方便您快速完成各种计算和转换任务</p>
            </div>

            <!-- 工具卡片网格 -->
            <div class="tools-grid">
                <!-- 计算器卡片 -->
                <div class="tool-card">
                    <div class="tool-card-header">
                        <div class="tool-icon">
                            <svg viewBox="0 0 24 24">
                                <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect>
                                <line x1="8" y1="6" x2="16" y2="6"></line>
                                <line x1="8" y1="10" x2="16" y2="10"></line>
                                <line x1="8" y1="14" x2="16" y2="14"></line>
                                <line x1="8" y1="18" x2="12" y2="18"></line>
                            </svg>
                        </div>
                        <div>
                            <h3 data-i18n="tool-calculator">计算器</h3>
                            <p data-i18n="tool-calculator-desc">支持基本四则运算的科学计算器</p>
                        </div>
                    </div>
                    <div class="tool-card-content">
                        <div class="calculator">
                            <div class="calc-display" id="calc-display">0</div>
                            <div class="calc-buttons">
                                <button class="calc-btn clear" onclick="clearCalculator()" data-i18n="calc-clear">清除</button>
                                <button class="calc-btn operator" onclick="setOperation('/')">÷</button>
                                <button class="calc-btn operator" onclick="setOperation('*')">×</button>
                                <button class="calc-btn operator" onclick="deleteLast()">←</button>

                                <button class="calc-btn" onclick="appendToDisplay('7')">7</button>
                                <button class="calc-btn" onclick="appendToDisplay('8')">8</button>
                                <button class="calc-btn" onclick="appendToDisplay('9')">9</button>
                                <button class="calc-btn operator" onclick="setOperation('-')">-</button>

                                <button class="calc-btn" onclick="appendToDisplay('4')">4</button>
                                <button class="calc-btn" onclick="appendToDisplay('5')">5</button>
                                <button class="calc-btn" onclick="appendToDisplay('6')">6</button>
                                <button class="calc-btn operator" onclick="setOperation('+')">+</button>

                                <button class="calc-btn" onclick="appendToDisplay('1')">1</button>
                                <button class="calc-btn" onclick="appendToDisplay('2')">2</button>
                                <button class="calc-btn" onclick="appendToDisplay('3')">3</button>
                                <button class="calc-btn operator" onclick="appendToDisplay('.')">.</button>

                                <button class="calc-btn" onclick="appendToDisplay('0')">0</button>
                                <button class="calc-btn" onclick="appendToDisplay('00')">00</button>
                                <button class="calc-btn equals" onclick="calculateResult()" data-i18n="calc-equals">=</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 计时器卡片 -->
                <div class="tool-card">
                    <div class="tool-card-header">
                        <div class="tool-icon">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div>
                            <h3 data-i18n="tool-timer">计时器</h3>
                            <p data-i18n="tool-timer-desc">精确的秒表计时器，支持分段计时</p>
                        </div>
                    </div>
                    <div class="tool-card-content">
                        <div class="timer-display" id="timer-display">00:00:00</div>
                        <div class="timer-controls">
                            <button class="timer-btn" id="timer-start" onclick="startTimer()" data-i18n="timer-start">开始</button>
                            <button class="timer-btn stop" id="timer-stop" onclick="stopTimer()" style="display: none;" data-i18n="timer-stop">停止</button>
                            <button class="timer-btn" onclick="resetTimer()" data-i18n="timer-reset">重置</button>
                            <button class="timer-btn" onclick="recordLap()" data-i18n="timer-lap">计次</button>
                        </div>
                        <div class="timer-laps" id="timer-laps"></div>
                    </div>
                </div>

                <!-- 倒计时卡片 -->
                <div class="tool-card">
                    <div class="tool-card-header">
                        <div class="tool-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 20V10M6 20V4M18 20v-6"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 data-i18n="tool-countdown">倒计时器</h3>
                            <p data-i18n="tool-countdown-desc">设置目标时间，开始倒计时</p>
                        </div>
                    </div>
                    <div class="tool-card-content">
                        <div class="countdown-container">
                            <!-- 模式选择器 -->
                            <div class="countdown-mode-selector">
                                <button class="countdown-mode-btn active" id="mode-endtime" onclick="setCountdownMode('endtime')" data-i18n="countdown-mode-endtime">结束时间</button>
                                <button class="countdown-mode-btn" id="mode-duration" onclick="setCountdownMode('duration')" data-i18n="countdown-mode-duration">倒计时时长</button>
                            </div>

                            <!-- 结束时间输入 -->
                            <div class="countdown-input-group" id="endtime-group">
                                <label for="countdown-datetime" data-i18n="countdown-set-time">设置目标时间</label>
                                <input type="datetime-local" id="countdown-datetime" class="countdown-input">
                            </div>

                            <!-- 时长输入 -->
                            <div class="countdown-duration-inputs" id="duration-group">
                                <div class="countdown-duration-input-group">
                                    <label for="countdown-hours" data-i18n="countdown-hours">时</label>
                                    <input type="number" id="countdown-hours" class="countdown-duration-input" min="0" max="23" value="0">
                                    <div class="countdown-duration-controls">
                                        <button class="countdown-duration-btn" onclick="adjustDuration('hours', 1)">+</button>
                                        <button class="countdown-duration-btn" onclick="adjustDuration('hours', -1)">-</button>
                                    </div>
                                </div>
                                <div class="countdown-duration-input-group">
                                    <label for="countdown-minutes" data-i18n="countdown-minutes">分</label>
                                    <input type="number" id="countdown-minutes" class="countdown-duration-input" min="0" max="59" value="0">
                                    <div class="countdown-duration-controls">
                                        <button class="countdown-duration-btn" onclick="adjustDuration('minutes', 1)">+</button>
                                        <button class="countdown-duration-btn" onclick="adjustDuration('minutes', -1)">-</button>
                                    </div>
                                </div>
                                <div class="countdown-duration-input-group">
                                    <label for="countdown-seconds" data-i18n="countdown-seconds">秒</label>
                                    <input type="number" id="countdown-seconds" class="countdown-duration-input" min="0" max="59" value="0">
                                    <div class="countdown-duration-controls">
                                        <button class="countdown-duration-btn" onclick="adjustDuration('seconds', 1)">+</button>
                                        <button class="countdown-duration-btn" onclick="adjustDuration('seconds', -1)">-</button>
                                    </div>
                                </div>
                            </div>

                            <div class="countdown-display" id="countdown-display">
                                <div class="countdown-unit">
                                    <span id="countdown-days">00</span>
                                    <span data-i18n="countdown-days">天</span>
                                </div>
                                <div class="countdown-unit">
                                    <span id="countdown-hours-display">00</span>
                                    <span data-i18n="countdown-hours">时</span>
                                </div>
                                <div class="countdown-unit">
                                    <span id="countdown-minutes-display">00</span>
                                    <span data-i18n="countdown-minutes">分</span>
                                </div>
                                <div class="countdown-unit">
                                    <span id="countdown-seconds-display">00</span>
                                    <span data-i18n="countdown-seconds">秒</span>
                                </div>
                            </div>
                            <div class="countdown-controls">
                                <button class="countdown-btn" id="countdown-start" onclick="startCountdown()" data-i18n="countdown-start">开始</button>
                                <button class="countdown-btn pause" id="countdown-pause" onclick="pauseCountdown()" style="display: none;" data-i18n="countdown-pause">暂停</button>
                                <button class="countdown-btn" onclick="resetCountdown()" data-i18n="countdown-reset">重置</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 颜色转换器卡片 -->
                <div class="tool-card">
                    <div class="tool-card-header">
                        <div class="tool-icon">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 2v20M17 7l-5 5-5-5M17 17l-5-5-5 5"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 data-i18n="tool-color-converter">颜色转换器</h3>
                            <p data-i18n="tool-color-converter-desc">RGB、HEX、HSL颜色格式互转</p>
                        </div>
                    </div>
                    <div class="tool-card-content">
                        <div class="color-converter">
                            <div class="color-preview" id="color-preview"></div>
                            <div class="color-input-group">
                                <label for="hex-input" data-i18n="color-hex">HEX</label>
                                <input type="text" id="hex-input" class="color-input" placeholder="#RRGGBB" onchange="updateFromHex()">
                            </div>
                            <div class="color-input-group">
                                <label for="rgb-input" data-i18n="color-rgb">RGB</label>
                                <input type="text" id="rgb-input" class="color-input" placeholder="rgb(r, g, b)" onchange="updateFromRgb()">
                            </div>
                            <div class="color-input-group">
                                <label for="hsl-input" data-i18n="color-hsl">HSL</label>
                                <input type="text" id="hsl-input" class="color-input" placeholder="hsl(h, s%, l%)" onchange="updateFromHsl()">
                            </div>
                            <div class="color-values">
                                <div class="color-value" id="hex-value">HEX: #000000</div>
                                <div class="color-value" id="rgb-value">RGB: rgb(0, 0, 0)</div>
                                <div class="color-value" id="hsl-value">HSL: hsl(0, 0%, 0%)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 文本工具卡片 -->
                <div class="tool-card">
                    <div class="tool-card-header">
                        <div class="tool-icon">
                            <svg viewBox="0 0 24 24">
                                <polyline points="4 7 4 4 20 4 20 7"></polyline>
                                <line x1="9" y1="20" x2="15" y2="20"></line>
                                <line x1="12" y1="4" x2="12" y2="20"></line>
                            </svg>
                        </div>
                        <div>
                            <h3 data-i18n="tool-text-tools">文本工具</h3>
                            <p data-i18n="tool-text-tools-desc">文本大小写转换、统计字符数等</p>
                        </div>
                    </div>
                    <div class="tool-card-content">
                        <div class="text-tools">
                            <div class="text-actions">
                                <button class="text-action-btn" onclick="transformText('uppercase')" data-i18n="text-uppercase">转大写</button>
                                <button class="text-action-btn" onclick="transformText('lowercase')" data-i18n="text-lowercase">转小写</button>
                                <button class="text-action-btn" onclick="transformText('capitalize')" data-i18n="text-capitalize">首字母大写</button>
                                <button class="text-action-btn" onclick="transformText('reverse')" data-i18n="text-reverse">反转文本</button>
                                <button class="text-action-btn" onclick="countText()" data-i18n="text-count">统计字符</button>
                            </div>
                            <div class="text-input-group">
                                <label for="text-input" data-i18n="text-input-label">输入文本</label>
                                <textarea id="text-input" class="text-input" rows="3" placeholder="在此输入文本..." oninput="autoUpdateText()"></textarea>
                            </div>
                            <div class="text-input-group">
                                <label data-i18n="text-output-label">处理结果</label>
                                <div id="text-output" class="text-output"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 更新日志页面内容 -->
        <div id="changelog-page" class="content-page">
            <div class="changelog-header">
                <h1 data-i18n="changelog-title">更新日志</h1>
                <p data-i18n="changelog-description">查看应用的版本更新历史和功能改进</p>
            </div>

            <div class="changelog-container">
                <!-- 版本 2.0.1.0 -->
                <div class="changelog-item">
                    <div class="changelog-version">V2.0.1.0</div>
                    <div class="changelog-date">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg> 2025-09-24
                    </div>
                    <div class="changelog-content">
                        <ul>
                            <li data-i18n="changelog-V2.0.1.0-item1">添加了倒计时功能</li>
                        </ul>
                    </div>
                </div>

                <!-- 版本 2.0.0.2 -->
                <div class="changelog-item">
                    <div class="changelog-version">V2.0.0.2</div>
                    <div class="changelog-date">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg> 2025-09-21
                    </div>
                    <div class="changelog-content">
                        <ul>
                            <li data-i18n="changelog-V2.0.0.2-item1">添加了音效（可通过"设置-声音设置"关闭）</li>
                            <li data-i18n="changelog-V2.0.0.2-item2">添加了中文（粤语）、中文（文言文）、拉丁语、阿拉伯语等</li>
                            <li data-i18n="changelog-V2.0.0.2-item3">修复了已知的BUG</li>
                        </ul>
                    </div>
                </div>

                <!-- 版本 2.0.0.1 -->
                <div class="changelog-item">
                    <div class="changelog-version">V2.0.0.1</div>
                    <div class="changelog-date">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg> 2025-09-14
                    </div>
                    <div class="changelog-content">
                        <ul>
                            <li data-i18n="changelog-V2.0.0.1-item1">添加了部分设置内容的记忆功能</li>
                            <li data-i18n="changelog-V2.0.0.1-item2">添加了深色模式</li>
                            <li data-i18n="changelog-V2.0.0.1-item3">添加了4种浅色模式主题颜色和2种深色模式主题颜色</li>
                            <li data-i18n="changelog-V2.0.0.1-item4">添加了多语言功能</li>
                        </ul>
                    </div>
                </div>

                <!-- 版本 2.0.0.0 -->
                <div class="changelog-item">
                    <div class="changelog-version">V2.0.0.0</div>
                    <div class="changelog-date">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg> 2025-09-07
                    </div>
                    <div class="changelog-content">
                        <ul>
                            <li data-i18n="changelog-V2.0.0.0-item1">所有代码重构，换新了部分视觉风格</li>
                        </ul>
                    </div>
                </div>

                <!-- 版本 1.0.0.0 -->
                <div class="changelog-item">
                    <div class="changelog-version">V1.0.0.0</div>
                    <div class="changelog-date">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg> 2025-07
                    </div>
                    <div class="changelog-content">
                        <ul>
                            <li data-i18n="changelog-V1.0.0.0-item1">初步构建代码</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 设置页面内容 -->
        <div id="settings-page" class="content-page">
            <div class="page-header">
                <h1 data-i18n="settings-title">系统设置</h1>
                <p data-i18n="settings-description">在这里配置系统的各项参数</p>
            </div>
            <div class="content-card">
                <div class="settings-group">
                    <h3 data-i18n="settings-interface">界面设置</h3>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-dark-mode">深色模式</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="dark-mode">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-auto-expand">自动展开侧边栏</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="auto-expand" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-animations">显示动画效果</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="animations" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-language">语言选择</span>
                        <div class="setting-control">
                            <div class="language-selector">
                                <select class="language-select" id="language-select">
                                    <option value="zh-CN">中文（简体）</option>
                                    <option value="zh-TW">中文（繁體）</option>
                                    <option value="zh-HK">中文（粵語）</option>
                                    <option value="zh-CL">中文（文言文）</option>
                                    <option value="en-US">English</option>
                                    <option value="de-DE">Deutsch</option>
                                    <option value="es-ES">Español</option>
                                    <option value="fr-FR">Français</option>
                                    <option value="he-IL">עברית</option>
                                    <option value="it-IT">Italiano</option>
                                    <option value="ja-JP">日本語</option>
                                    <option value="ko-KP">조선말</option>
                                    <option value="ko-KR">한국어</option>
                                    <option value="la-VA">Latina</option>
                                    <option value="pl-PL">Polski</option>
                                    <option value="pt-BR">Português</option>
                                    <option value="ru-RU">Русский</option>
                                    <option value="th-TH">ไทย</option>
                                    <option value="tr-TR">Türkçe</option>
                                    <option value="ur-PK">اردو</option>
                                    <option value="vi-VN">Tiếng Việt</option>
                                    <option value="ar-SA">العربية</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-theme">主题颜色</span>
                        <div class="setting-control">
                            <div>
                                <!-- 浅色模式主题 -->
                                <div class="theme-section">
                                    <div class="theme-section-title" data-i18n="theme-light">浅色模式</div>
                                    <div class="theme-colors">
                                        <div class="theme-color active" data-theme="0" style="background: linear-gradient(135deg, #667eea, #764ba2)" title="优雅紫"></div>
                                        <div class="theme-color" data-theme="1" style="background: linear-gradient(135deg, #4facfe, #00f2fe)" title="清新蓝"></div>
                                        <div class="theme-color" data-theme="2" style="background: linear-gradient(135deg, #43e97b, #38f9d7)" title="自然绿"></div>
                                        <div class="theme-color" data-theme="3" style="background: linear-gradient(135deg, #fa709a, #fee140)" title="活力橙"></div>
                                    </div>
                                </div>

                                <!-- 深色模式主题 -->
                                <div class="theme-section">
                                    <div class="theme-section-title" data-i18n="theme-dark">深色模式</div>
                                    <div class="theme-colors">
                                        <div class="theme-color" data-theme="4" style="background: linear-gradient(135deg, #f093fb, #f5576c)" title="魅惑粉"></div>
                                        <div class="theme-color" data-theme="5" style="background: linear-gradient(135deg, #30cfd0, #330867)" title="深邃蓝"></div>
                                        <div class="theme-color" data-theme="6" style="background: linear-gradient(135deg, #a8edea, #fed6e3)" title="柔和青"></div>
                                        <div class="theme-color" data-theme="7" style="background: linear-gradient(135deg, #ff9a9e, #fecfef)" title="浪漫粉"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="settings-group">
                    <h3 data-i18n="settings-notifications">通知设置</h3>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-desktop-notifications">桌面通知</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="desktop-notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-sound-alerts">声音提醒</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="sound-alerts">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-email-notifications">邮件通知</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="email-notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="settings-group">
                    <h3 data-i18n="settings-privacy">隐私设置</h3>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-browsing-history">保存浏览历史</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="browsing-history" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label" data-i18n="settings-auto-save-forms">自动保存表单</span>
                        <div class="setting-control">
                            <label class="switch">
                                <input type="checkbox" id="auto-save-forms">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script>
        // 多语言支持
        const translations = {
            'zh-CN': {
                'system-title': '实用小工具',
                'menu-home': '首页',
                'menu-changelog': '更新日志',
                'menu-settings': '系统设置',
                'home-welcome': '实用小工具集合',
                'home-description': '这里提供了一些日常实用的在线小工具，方便您快速完成各种计算和转换任务',
                'tool-calculator': '计算器',
                'tool-calculator-desc': '支持基本四则运算的科学计算器',
                'tool-timer': '计时器',
                'tool-timer-desc': '精确的秒表计时器，支持分段计时',
                'tool-countdown': '倒计时器',
                'tool-countdown-desc': '设置目标时间，开始倒计时',
                'tool-color-converter': '颜色转换器',
                'tool-color-converter-desc': 'RGB、HEX、HSL颜色格式互转',
                'tool-text-tools': '文本工具',
                'tool-text-tools-desc': '文本大小写转换、统计字符数等',
                'settings-title': '系统设置',
                'settings-description': '在这里配置系统的各项参数',
                'settings-interface': '界面设置',
                'settings-dark-mode': '深色模式',
                'settings-auto-expand': '自动展开侧边栏',
                'settings-animations': '显示动画效果',
                'settings-language': '语言选择',
                'settings-theme': '主题颜色',
                'theme-light': '浅色模式',
                'theme-dark': '深色模式',
                'settings-notifications': '通知设置',
                'settings-desktop-notifications': '桌面通知',
                'settings-sound-alerts': '声音提醒',
                'settings-email-notifications': '邮件通知',
                'settings-privacy': '隐私设置',
                'settings-browsing-history': '保存浏览历史',
                'settings-auto-save-forms': '自动保存表单',
                'notification-switched-to': '已切换到：',
                'notification-dark-mode-on': '深色模式已开启',
                'notification-dark-mode-off': '深色模式已关闭',
                'notification-auto-expand-on': '自动展开侧边栏已开启',
                'notification-auto-expand-off': '自动展开侧边栏已关闭',
                'notification-animations-on': '动画效果已开启',
                'notification-animations-off': '动画效果已关闭',
                'notification-language-changed': '语言已切换为：',
                'notification-desktop-notifications-on': '桌面通知已开启',
                'notification-desktop-notifications-off': '桌面通知已关闭',
                'notification-sound-alerts-on': '声音提醒已开启',
                'notification-sound-alerts-off': '声音提醒已关闭',
                'notification-email-notifications-on': '邮件通知已开启\n您将收到邮件提醒',
                'notification-email-notifications-off': '邮件通知已关闭',
                'notification-browsing-history-on': '浏览历史保存已开启',
                'notification-browsing-history-off': '浏览历史保存已关闭',
                'notification-auto-save-forms-on': '表单自动保存已开启',
                'notification-auto-save-forms-off': '表单自动保存已关闭',
                'notification-theme-changed': '已切换到',
                'notification-theme': '主题',
                'calc-0': '0',
                'calc-clear': '清除',
                'calc-equals': '=',
                'timer-start': '开始',
                'timer-stop': '停止',
                'timer-reset': '重置',
                'timer-lap': '计次',
                'timer-laps-title': '计次记录',
                'countdown-mode-endtime': '结束时间',
                'countdown-mode-duration': '倒计时时长',
                'countdown-set-time': '设置目标时间',
                'countdown-days': '天',
                'countdown-hours': '时',
                'countdown-minutes': '分',
                'countdown-seconds': '秒',
                'countdown-start': '开始',
                'countdown-pause': '暂停',
                'countdown-reset': '重置',
                'countdown-set-time-required': '请设置目标时间',
                'countdown-time-past': '目标时间已过，请重新设置',
                'countdown-finished': '倒计时结束！',
                'color-hex': 'HEX',
                'color-rgb': 'RGB',
                'color-hsl': 'HSL',
                'text-uppercase': '转大写',
                'text-lowercase': '转小写',
                'text-capitalize': '首字母大写',
                'text-reverse': '反转文本',
                'text-count': '统计字符',
                'text-input-label': '输入文本',
                'text-output-label': '处理结果',
                'text-words': '字数',
                'text-characters': '字符数',
                'text-spaces': '空格数',
                'changelog-title': '更新日志',
                'changelog-description': '查看应用的版本更新历史和功能改进',
                'changelog-V2.0.1.0-item1': '添加了倒计时功能',
                'changelog-V2.0.0.2-item1': '添加了音效（可通过"设置-声音设置"关闭）',
                'changelog-V2.0.0.2-item2': '添加了中文（粤语）、中文（文言文）、拉丁语、阿拉伯语等',
                'changelog-V2.0.0.2-item3': '修复了已知的BUG',
                'changelog-V2.0.0.1-item1': '添加了部分设置内容的记忆功能',
                'changelog-V2.0.0.1-item2': '添加了深色模式',
                'changelog-V2.0.0.1-item3': '添加了4种浅色模式主题颜色和2种深色模式主题颜色',
                'changelog-V2.0.0.1-item4': '添加了多语言功能',
                'changelog-V2.0.0.0-item1': '所有代码重构，换新了部分视觉风格',
                'changelog-V1.0.0.0-item1': '初步构建代码'
            },
            'zh-TW': {
                'system-title': '實用小工具',
                'menu-home': '首頁',
                'menu-changelog': '更新日誌',
                'menu-settings': '系統設定',
                'home-welcome': '實用小工具集合',
                'home-description': '這裡提供了一些日常實用的在線小工具，方便您快速完成各種計算和轉換任務',
                'tool-calculator': '計算器',
                'tool-calculator-desc': '支持基本四則運算的科學計算器',
                'tool-timer': '計時器',
                'tool-timer-desc': '精確的秒錶計時器，支持分段計時',
                'tool-countdown': '倒計時器',
                'tool-countdown-desc': '設置目標時間，開始倒計時',
                'tool-color-converter': '顏色轉換器',
                'tool-color-converter-desc': 'RGB、HEX、HSL顏色格式互轉',
                'tool-text-tools': '文本工具',
                'tool-text-tools-desc': '文本大小寫轉換、統計字符數等',
                'settings-title': '系統設定',
                'settings-description': '在這裡配置系統的各項參數',
                'settings-interface': '介面設定',
                'settings-dark-mode': '深色模式',
                'settings-auto-expand': '自動展開側邊欄',
                'settings-animations': '顯示動畫效果',
                'settings-language': '語言選擇',
                'settings-theme': '主題顏色',
                'theme-light': '淺色模式',
                'theme-dark': '深色模式',
                'settings-notifications': '通知設定',
                'settings-desktop-notifications': '桌面通知',
                'settings-sound-alerts': '聲音提醒',
                'settings-email-notifications': '郵件通知',
                'settings-privacy': '隱私設定',
                'settings-browsing-history': '保存瀏覽歷史',
                'settings-auto-save-forms': '自動保存表單',
                'notification-switched-to': '已切換到：',
                'notification-dark-mode-on': '深色模式已開啟',
                'notification-dark-mode-off': '深色模式已關閉',
                'notification-auto-expand-on': '自動展開側邊欄已開啟',
                'notification-auto-expand-off': '自動展開側邊欄已關閉',
                'notification-animations-on': '動畫效果已開啟',
                'notification-animations-off': '動畫效果已關閉',
                'notification-language-changed': '語言已切換為：',
                'notification-desktop-notifications-on': '桌面通知已開啟',
                'notification-desktop-notifications-off': '桌面通知已關閉',
                'notification-sound-alerts-on': '聲音提醒已開啟',
                'notification-sound-alerts-off': '聲音提醒已關閉',
                'notification-email-notifications-on': '郵件通知已開啟\n您將收到郵件提醒',
                'notification-email-notifications-off': '郵件通知已關閉',
                'notification-browsing-history-on': '瀏覽歷史保存已開啟',
                'notification-browsing-history-off': '瀏覽歷史保存已關閉',
                'notification-auto-save-forms-on': '表單自動保存已開啟',
                'notification-auto-save-forms-off': '表單自動保存已關閉',
                'notification-theme-changed': '已切換到',
                'notification-theme': '主題',
                'calc-0': '0',
                'calc-clear': '清除',
                'calc-equals': '=',
                'timer-start': '開始',
                'timer-stop': '停止',
                'timer-reset': '重置',
                'timer-lap': '計次',
                'timer-laps-title': '計次記錄',
                'countdown-mode-endtime': '結束時間',
                'countdown-mode-duration': '倒計時長度',
                'countdown-set-time': '設置目標時間',
                'countdown-days': '天',
                'countdown-hours': '時',
                'countdown-minutes': '分',
                'countdown-seconds': '秒',
                'countdown-start': '開始',
                'countdown-pause': '暫停',
                'countdown-reset': '重置',
                'countdown-set-time-required': '請設置目標時間',
                'countdown-time-past': '目標時間已過，請重新設置',
                'countdown-finished': '倒計時結束！',
                'color-hex': 'HEX',
                'color-rgb': 'RGB',
                'color-hsl': 'HSL',
                'text-uppercase': '轉大寫',
                'text-lowercase': '轉小寫',
                'text-capitalize': '首字母大寫',
                'text-reverse': '反轉文本',
                'text-count': '統計字符',
                'text-input-label': '輸入文本',
                'text-output-label': '處理結果',
                'text-words': '字數',
                'text-characters': '字符數',
                'text-spaces': '空格數',
                'changelog-title': '更新日誌',
                'changelog-description': '查看應用的版本更新歷史和功能改進',
                'changelog-V2.0.1.0-item1': '添加了倒計時功能',
                'changelog-V2.0.0.2-item1': '添加了音效（可通過"設置-聲音設置"關閉）',
                'changelog-V2.0.0.2-item2': '添加了中文（粵語）、中文（文言文）、拉丁語、阿拉伯語等',
                'changelog-V2.0.0.2-item3': '修復了已知的BUG',
                'changelog-V2.0.0.1-item1': '添加了部分設置內容的記憶功能',
                'changelog-V2.0.0.1-item2': '添加了深色模式',
                'changelog-V2.0.0.1-item3': '添加了4種淺色模式主題顏色和2種深色模式主題顏色',
                'changelog-V2.0.0.0-item1': '所有程式碼重構，換新了部分視覺風格',
                'changelog-V1.0.0.0-item1': '初步構建程式碼'
            },
            // 其他语言的翻译保持不变...
        };

        // 主题颜色配置 - 重新排序，前4个适合浅色，后4个适合深色
        const themes = [{
                start: '#667eea',
                end: '#764ba2',
                accent: '#667eea',
                name: '优雅紫'
            }, // 浅色
            {
                start: '#4facfe',
                end: '#00f2fe',
                accent: '#4facfe',
                name: '清新蓝'
            }, // 浅色
            {
                start: '#43e97b',
                end: '#38f9d7',
                accent: '#43e97b',
                name: '自然绿'
            }, // 浅色
            {
                start: '#fa709a',
                end: '#fee140',
                accent: '#fa709a',
                name: '活力橙'
            }, // 浅色
            {
                start: '#f093fb',
                end: '#f5576c',
                accent: '#f093fb',
                name: '魅惑粉'
            }, // 深色
            {
                start: '#30cfd0',
                end: '#330867',
                accent: '#30cfd0',
                name: '深邃蓝'
            }, // 深色
            {
                start: '#a8edea',
                end: '#fed6e3',
                accent: '#a8edea',
                name: '柔和青'
            }, // 深色
            {
                start: '#ff9a9e',
                end: '#fecfef',
                accent: '#ff9a9e',
                name: '浪漫粉'
            } // 深色
        ];

        // 获取DOM元素
        const menuLinks = document.querySelectorAll('.menu-link');
        const contentPages = document.querySelectorAll('.content-page');
        const sidebarContainer = document.getElementById('sidebarContainer');
        const root = document.documentElement;
        const darkModeCheckbox = document.getElementById('dark-mode');
        const languageSelect = document.getElementById('language-select');

        // 当前语言
        let currentLanguage = 'zh-CN';

        // 声音相关变量
        let audioContext = null;
        let soundEnabled = false;

        // 检查是否为RTL语言
        function isRTL(lang) {
            return lang === 'ar-SA' || lang === 'he-IL';
        }

        // 切换语言函数
        function changeLanguage(lang) {
            currentLanguage = lang;
            const translation = translations[lang];

            // 更新所有带有data-i18n属性的元素
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translation[key]) {
                    // 对于按钮，使用textContent而不是innerHTML
                    if (element.tagName === 'BUTTON') {
                        element.textContent = translation[key];
                    } else {
                        element.innerHTML = translation[key];
                    }
                }
            });

            // 更新HTML的lang属性和dir属性
            document.documentElement.lang = lang;
            if (isRTL(lang)) {
                document.documentElement.dir = 'rtl';
            } else {
                document.documentElement.dir = 'ltr';
            }

            // 保存语言设置
            localStorage.setItem('selectedLanguage', lang);

            // 更新语言选择框的值
            languageSelect.value = lang;
        }

        // 计算器变量
        let calcDisplay = '0';
        let calcPreviousOperand = '';
        let calcOperation = null;
        let calcShouldResetDisplay = false;

        // 更新计算器显示
        function updateDisplay() {
            const display = document.querySelector('#calc-display');
            if (display) {
                display.textContent = calcDisplay;
            }
        }

        // 追加到计算器显示
        function appendToDisplay(value) {
            if (calcShouldResetDisplay) {
                calcDisplay = '';
                calcShouldResetDisplay = false;
            }

            if (calcDisplay === '0' && value !== '.') {
                calcDisplay = value;
            } else {
                calcDisplay += value;
            }
            updateDisplay();

            // 播放按键音效
            playSound(1000, 50);
        }

        // 清除计算器
        function clearCalculator() {
            calcDisplay = '0';
            calcPreviousOperand = '';
            calcOperation = null;
            calcShouldResetDisplay = false;
            updateDisplay();

            // 播放清除音效
            playErrorSound();
        }

        // 删除最后一个字符
        function deleteLast() {
            if (calcDisplay.length === 1) {
                calcDisplay = '0';
            } else {
                calcDisplay = calcDisplay.slice(0, -1);
            }
            updateDisplay();

            // 播放按键音效
            playSound(1000, 50);
        }

        // 计算结果
        function calculateResult() {
            if (calcOperation === null || calcPreviousOperand === '') {
                return;
            }

            const currentOperand = parseFloat(calcDisplay);
            let result;

            switch (calcOperation) {
                case '+':
                    result = calcPreviousOperand + currentOperand;
                    break;
                case '-':
                    result = calcPreviousOperand - currentOperand;
                    break;
                case '*':
                    result = calcPreviousOperand * currentOperand;
                    break;
                case '/':
                    if (currentOperand === 0) {
                        // 除零错误
                        playErrorSound();
                        return;
                    }
                    result = calcPreviousOperand / currentOperand;
                    break;
            }

            calcDisplay = result.toString();
            calcPreviousOperand = '';
            calcOperation = null;
            calcShouldResetDisplay = true;
            updateDisplay();

            // 播放计算完成音效
            playSuccessSound();
        }

        // 设置操作
        function setOperation(operation) {
            if (calcOperation !== null) {
                calculateResult();
            }
            calcPreviousOperand = parseFloat(calcDisplay);
            calcOperation = operation;
            calcShouldResetDisplay = true;

            // 播放按键音效
            playSound(1000, 50);
        }

        // 计时器变量
        let timerInterval = null;
        let timerStartTime = 0;
        let timerElapsedTime = 0;
        let timerLaps = [];

        // 开始计时器
        function startTimer() {
            if (!timerInterval) {
                timerStartTime = Date.now() - timerElapsedTime;
                timerInterval = setInterval(updateTimer, 10);

                document.getElementById('timer-start').style.display = 'none';
                document.getElementById('timer-stop').style.display = 'inline-block';

                // 播放开始音效
                playNotificationSound();
            }
        }

        // 停止计时器
        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;

                document.getElementById('timer-start').style.display = 'inline-block';
                document.getElementById('timer-stop').style.display = 'none';

                // 播放停止音效
                playErrorSound();
            }
        }

        // 重置计时器
        function resetTimer() {
            stopTimer();
            timerElapsedTime = 0;
            timerLaps = [];
            updateTimerDisplay();
            document.getElementById('timer-laps').innerHTML = '';

            // 播放重置音效
            playErrorSound();
        }

        // 记录分段
        function recordLap() {
            if (timerInterval) {
                const lapTime = timerElapsedTime;
                timerLaps.push(lapTime);

                const lapsContainer = document.getElementById('timer-laps');
                const lapElement = document.createElement('div');
                lapElement.className = 'timer-lap';
                const translation = translations[currentLanguage];
                const lapTitle = translation['timer-laps-title'] || '计次记录';
                lapElement.innerHTML = `
                    <span>${lapTitle} ${timerLaps.length}</span>
                    <span>${formatTime(lapTime)}</span>
                `;
                lapsContainer.appendChild(lapElement);
                lapsContainer.scrollTop = lapsContainer.scrollHeight;

                // 播放计次音效
                playNotificationSound();
            }
        }

        // 更新计时器
        function updateTimer() {
            timerElapsedTime = Date.now() - timerStartTime;
            updateTimerDisplay();
        }

        // 更新计时器显示
        function updateTimerDisplay() {
            const display = document.getElementById('timer-display');
            if (display) {
                display.textContent = formatTime(timerElapsedTime);
            }
        }

        // 格式化时间
        function formatTime(milliseconds) {
            const totalSeconds = Math.floor(milliseconds / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const ms = Math.floor((milliseconds % 1000) / 10);

            return `${padZero(minutes)}:${padZero(seconds)}:${padZero(ms)}`;
        }

        // 倒计时变量
        let countdownInterval = null;
        let countdownTargetTime = null;
        let countdownMode = 'endtime'; // 'endtime' 或 'duration'

        // 设置倒计时模式
        function setCountdownMode(mode) {
            countdownMode = mode;

            // 更新按钮状态
            document.getElementById('mode-endtime').classList.toggle('active', mode === 'endtime');
            document.getElementById('mode-duration').classList.toggle('active', mode === 'duration');

            // 显示/隐藏对应的输入区域
            document.getElementById('endtime-group').style.display = mode === 'endtime' ? 'block' : 'none';
            document.getElementById('duration-group').classList.toggle('active', mode === 'duration');

            // 重置倒计时
            resetCountdown();
        }

        // 调整倒计时时长
        function adjustDuration(unit, delta) {
            const input = document.getElementById(`countdown-${unit}`);
            const currentValue = parseInt(input.value) || 0;
            let newValue = currentValue + delta;

            // 根据单位设置最大值和最小值
            let min = 0;
            let max = 59;

            if (unit === 'hours') {
                max = 23;
            }

            // 确保值在有效范围内
            newValue = Math.max(min, Math.min(max, newValue));

            // 更新输入框的值
            input.value = newValue;

            // 播放调整音效
            playSound(800, 50);
        }

        // 初始化倒计时滚轮功能
        function initCountdownWheel() {
            const hoursInput = document.getElementById('countdown-hours');
            const minutesInput = document.getElementById('countdown-minutes');
            const secondsInput = document.getElementById('countdown-seconds');

            // 为每个输入框添加滚轮事件
            [hoursInput, minutesInput, secondsInput].forEach(input => {
                input.addEventListener('wheel', (e) => {
                    // 阻止默认的滚轮行为（如页面滚动）
                    e.preventDefault();

                    // 获取输入框的单位
                    const unit = input.id.replace('countdown-', '');

                    // 根据滚轮方向调整值
                    const delta = e.deltaY > 0 ? -1 : 1;
                    adjustDuration(unit, delta);
                });

                // 添加焦点事件，当获得焦点时显示文本选择光标
                input.addEventListener('focus', () => {
                    input.style.cursor = 'text';
                });

                // 添加失焦事件，当失去焦点时恢复垂直调整光标
                input.addEventListener('blur', () => {
                    input.style.cursor = 'ns-resize';
                });
            });
        }

        // 开始倒计时
        function startCountdown() {
            let targetTime;

            if (countdownMode === 'endtime') {
                // 结束时间模式
                const datetimeInput = document.getElementById('countdown-datetime');
                if (!datetimeInput.value) {
                    showNotification(translations[currentLanguage]['countdown-set-time-required'] || '请设置目标时间');
                    playErrorSound();
                    return;
                }

                targetTime = new Date(datetimeInput.value).getTime();

                // 如果目标时间已经过去
                if (targetTime <= Date.now()) {
                    showNotification(translations[currentLanguage]['countdown-time-past'] || '目标时间已过，请重新设置');
                    playErrorSound();
                    resetCountdown();
                    return;
                }
            } else {
                // 时长模式
                const hours = parseInt(document.getElementById('countdown-hours').value) || 0;
                const minutes = parseInt(document.getElementById('countdown-minutes').value) || 0;
                const seconds = parseInt(document.getElementById('countdown-seconds').value) || 0;

                const totalSeconds = hours * 3600 + minutes * 60 + seconds;

                if (totalSeconds === 0) {
                    showNotification(translations[currentLanguage]['countdown-set-time-required'] || '请设置目标时间');
                    playErrorSound();
                    return;
                }

                targetTime = Date.now() + totalSeconds * 1000;
            }

            countdownTargetTime = targetTime;

            // 更新按钮状态
            document.getElementById('countdown-start').style.display = 'none';
            document.getElementById('countdown-pause').style.display = 'inline-block';

            // 开始倒计时
            countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown(); // 立即更新一次

            playNotificationSound();
        }

        // 暂停倒计时
        function pauseCountdown() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }

            document.getElementById('countdown-start').style.display = 'inline-block';
            document.getElementById('countdown-pause').style.display = 'none';

            playNotificationSound();
        }

        // 重置倒计时
        function resetCountdown() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }

            countdownTargetTime = null;

            document.getElementById('countdown-days').textContent = '00';
            document.getElementById('countdown-hours-display').textContent = '00';
            document.getElementById('countdown-minutes-display').textContent = '00';
            document.getElementById('countdown-seconds-display').textContent = '00';

            document.getElementById('countdown-start').style.display = 'inline-block';
            document.getElementById('countdown-pause').style.display = 'none';

            // 清空输入框
            document.getElementById('countdown-datetime').value = '';
            document.getElementById('countdown-hours').value = '0';
            document.getElementById('countdown-minutes').value = '0';
            document.getElementById('countdown-seconds').value = '0';

            playNotificationSound();
        }

        // 更新倒计时显示
        function updateCountdown() {
            const now = Date.now();
            const remaining = countdownTargetTime - now;

            if (remaining <= 0) {
                // 倒计时结束
                clearInterval(countdownInterval);
                countdownInterval = null;
                document.getElementById('countdown-days').textContent = '00';
                document.getElementById('countdown-hours-display').textContent = '00';
                document.getElementById('countdown-minutes-display').textContent = '00';
                document.getElementById('countdown-seconds-display').textContent = '00';
                document.getElementById('countdown-start').style.display = 'inline-block';
                document.getElementById('countdown-pause').style.display = 'none';
                showNotification(translations[currentLanguage]['countdown-finished'] || '倒计时结束！');
                playSuccessSound();
                return;
            }

            const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
            const hours = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remaining % (1000 * 60)) / 1000);

            document.getElementById('countdown-days').textContent = padZero(days);
            document.getElementById('countdown-hours-display').textContent = padZero(hours);
            document.getElementById('countdown-minutes-display').textContent = padZero(minutes);
            document.getElementById('countdown-seconds-display').textContent = padZero(seconds);
        }

        // 补零
        function padZero(num) {
            return num.toString().padStart(2, '0');
        }

        // 从HEX更新颜色
        function updateFromHex() {
            const hexInput = document.getElementById('hex-input');
            const hex = hexInput.value.trim();

            if (/^#[0-9A-F]{6}$/i.test(hex)) {
                updateColor(hex);
                playSuccessSound();
            } else {
                hexInput.classList.add('error');
                setTimeout(() => hexInput.classList.remove('error'), 300);
                playErrorSound();
            }
        }

        // 从RGB更新颜色
        function updateFromRgb() {
            const rgbInput = document.getElementById('rgb-input');
            const rgb = rgbInput.value.trim();
            const match = rgb.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);

            if (match) {
                const r = parseInt(match[1]);
                const g = parseInt(match[2]);
                const b = parseInt(match[3]);

                if (r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255) {
                    const hex = rgbToHex(r, g, b);
                    updateColor(hex);
                    playSuccessSound();
                } else {
                    rgbInput.classList.add('error');
                    setTimeout(() => rgbInput.classList.remove('error'), 300);
                    playErrorSound();
                }
            } else {
                rgbInput.classList.add('error');
                setTimeout(() => rgbInput.classList.remove('error'), 300);
                playErrorSound();
            }
        }

        // 从HSL更新颜色
        function updateFromHsl() {
            const hslInput = document.getElementById('hsl-input');
            const hsl = hslInput.value.trim();
            const match = hsl.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);

            if (match) {
                const h = parseInt(match[1]);
                const s = parseInt(match[2]);
                const l = parseInt(match[3]);

                if (h >= 0 && h <= 360 && s >= 0 && s <= 100 && l >= 0 && l <= 100) {
                    const rgb = hslToRgb(h, s, l);
                    const hex = rgbToHex(rgb.r, rgb.g, rgb.b);
                    updateColor(hex);
                    playSuccessSound();
                } else {
                    hslInput.classList.add('error');
                    setTimeout(() => hslInput.classList.remove('error'), 300);
                    playErrorSound();
                }
            } else {
                hslInput.classList.add('error');
                setTimeout(() => hslInput.classList.remove('error'), 300);
                playErrorSound();
            }
        }

        // 更新颜色
        function updateColor(hex) {
            const rgb = hexToRgb(hex);
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);

            // 更新预览
            const preview = document.getElementById('color-preview');
            if (preview) {
                preview.style.backgroundColor = hex;
            }

            // 更新输入框
            const hexInput = document.getElementById('hex-input');
            const rgbInput = document.getElementById('rgb-input');
            const hslInput = document.getElementById('hsl-input');

            if (hexInput) hexInput.value = hex;
            if (rgbInput) rgbInput.value = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            if (hslInput) hslInput.value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;

            // 更新值显示
            const hexValue = document.getElementById('hex-value');
            const rgbValue = document.getElementById('rgb-value');
            const hslValue = document.getElementById('hsl-value');

            if (hexValue) hexValue.textContent = `HEX: ${hex}`;
            if (rgbValue) rgbValue.textContent = `RGB: rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            if (hslValue) hslValue.textContent = `HSL: hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
        }

        // HEX转RGB
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        // RGB转HEX
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }

        // RGB转HSL
        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                switch (max) {
                    case r:
                        h = ((g - b) / d + (g < b ? 6 : 0)) / 6;
                        break;
                    case g:
                        h = ((b - r) / d + 2) / 6;
                        break;
                    case b:
                        h = ((r - g) / d + 4) / 6;
                        break;
                }
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        // HSL转RGB
        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;

                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        // 文本转换
        function transformText(type) {
            const input = document.getElementById('text-input');
            const output = document.getElementById('text-output');

            if (!input || !output) return;

            let text = input.value;
            let result = '';

            switch (type) {
                case 'uppercase':
                    result = text.toUpperCase();
                    break;
                case 'lowercase':
                    result = text.toLowerCase();
                    break;
                case 'capitalize':
                    result = text.replace(/\b\w/g, l => l.toUpperCase());
                    break;
                case 'reverse':
                    result = text.split('').reverse().join('');
                    break;
            }

            output.textContent = result;

            // 播放转换完成音效
            playNotificationSound();
        }

        // 文本统计
        function countText() {
            const input = document.getElementById('text-input');
            const output = document.getElementById('text-output');

            if (!input || !output) return;

            const text = input.value;
            const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
            const characters = text.length;
            const spaces = (text.match(/\s/g) || []).length;

            const translation = translations[currentLanguage];
            const wordsLabel = translation['text-words'] || '字数';
            const charactersLabel = translation['text-characters'] || '字符数';
            const spacesLabel = translation['text-spaces'] || '空格数';

            output.innerHTML = `
                ${wordsLabel}: ${words}<br>
                ${charactersLabel}: ${characters}<br>
                ${spacesLabel}: ${spaces}
            `;

            // 播放统计完成音效
            playSuccessSound();
        }

        // 自动更新文本
        function autoUpdateText() {
            const input = document.getElementById('text-input');
            const output = document.getElementById('text-output');

            if (!input || !output) return;

            output.textContent = input.value;
        }

        // 显示通知
        function showNotification(message) {
            // 移除现有通知
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            // 创建新通知
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);

            // 3秒后自动移除
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = isRTL(currentLanguage) ? 'translateX(-100%)' : 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // 应用主题
        function applyTheme(themeIndex) {
            const theme = themes[themeIndex];
            root.style.setProperty('--primary-start', theme.start);
            root.style.setProperty('--primary-end', theme.end);
            root.style.setProperty('--accent-color', theme.accent);

            // 根据主题索引自动切换深色/浅色模式
            if (themeIndex >= 4) {
                // 深色主题，开启深色模式
                document.body.classList.add('dark-mode');
                darkModeCheckbox.checked = true;
                localStorage.setItem('darkMode', 'true');
            } else {
                // 浅色主题，关闭深色模式
                document.body.classList.remove('dark-mode');
                darkModeCheckbox.checked = false;
                localStorage.setItem('darkMode', 'false');
            }

            // 更新主题颜色选择器的活动状态
            document.querySelectorAll('.theme-color').forEach(color => {
                color.classList.remove('active');
                if (parseInt(color.getAttribute('data-theme')) === themeIndex) {
                    color.classList.add('active');
                }
            });
        }

        // 初始化音频上下文
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new(window.AudioContext || window.webkitAudioContext)();
            }
        }

        // 播放提示音
        function playSound(frequency = 800, duration = 200) {
            if (!soundEnabled || !audioContext) return;

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.06, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.002, audioContext.currentTime + duration / 1000);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration / 1000);
        }

        // 播放成功音效
        function playSuccessSound() {
            playSound(523.25, 150); // C5音符
            setTimeout(() => playSound(659.25, 150), 100); // E5音符
            setTimeout(() => playSound(783.99, 200), 200); // G5音符
        }

        // 播放错误音效
        function playErrorSound() {
            playSound(200, 300);
        }

        // 播放通知音效
        function playNotificationSound() {
            playSound(600, 100);
            setTimeout(() => playSound(800, 100), 100);
        }

        // 初始化应用
        function initApp() {
            // 加载保存的设置
            const savedLanguage = localStorage.getItem('selectedLanguage') || 'zh-CN';
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            const savedAutoExpand = localStorage.getItem('autoExpand') !== 'false';
            const savedAnimations = localStorage.getItem('animations') !== 'false';
            const savedTheme = localStorage.getItem('selectedTheme') || '0';
            const savedSoundAlerts = localStorage.getItem('soundAlerts') === 'true'; // 默认关闭

            // 应用设置
            changeLanguage(savedLanguage);

            // 应用主题（这会自动设置深色/浅色模式）
            applyTheme(parseInt(savedTheme));

            // 如果用户之前手动设置了深色模式，并且与主题不匹配，则覆盖主题设置
            if ((savedTheme < 4 && savedDarkMode) || (savedTheme >= 4 && !savedDarkMode)) {
                if (savedDarkMode) {
                    document.body.classList.add('dark-mode');
                    darkModeCheckbox.checked = true;
                } else {
                    document.body.classList.remove('dark-mode');
                    darkModeCheckbox.checked = false;
                }
            }

            if (!savedAutoExpand) {
                sidebarContainer.classList.add('no-hover');
                document.getElementById('auto-expand').checked = false;
            }

            if (!savedAnimations) {
                document.body.classList.add('no-animations');
                document.getElementById('animations').checked = false;
            }

            // 应用声音设置
            soundEnabled = savedSoundAlerts;
            document.getElementById('sound-alerts').checked = savedSoundAlerts;

            // 初始化音频上下文（需要用户交互后才能创建）
            document.addEventListener('click', initAudioContext, {
                once: true
            });

            // 初始化颜色转换器
            updateColor('#000000');

            // 初始化倒计时滚轮功能
            initCountdownWheel();

            // 添加事件监听器
            menuLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();

                    // 更新活动菜单项
                    menuLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');

                    // 切换页面
                    const pageId = link.getAttribute('data-page');
                    contentPages.forEach(page => {
                        page.classList.remove('active');
                    });
                    const targetPage = document.getElementById(`${pageId}-page`);
                    if (targetPage) {
                        targetPage.classList.add('active');
                    } else {
                        console.error(`Page with ID ${pageId}-page not found`);
                    }

                    // 播放导航音效
                    playNotificationSound();
                });
            });

            // 深色模式切换
            darkModeCheckbox.addEventListener('change', () => {
                if (darkModeCheckbox.checked) {
                    document.body.classList.add('dark-mode');
                    localStorage.setItem('darkMode', 'true');
                    showNotification(translations[currentLanguage]['notification-dark-mode-on']);
                    playSuccessSound();
                } else {
                    document.body.classList.remove('dark-mode');
                    localStorage.setItem('darkMode', 'false');
                    showNotification(translations[currentLanguage]['notification-dark-mode-off']);
                    playSuccessSound();
                }
            });

            // 自动展开侧边栏切换
            document.getElementById('auto-expand').addEventListener('change', (e) => {
                if (e.target.checked) {
                    sidebarContainer.classList.remove('no-hover');
                    localStorage.setItem('autoExpand', 'true');
                    showNotification(translations[currentLanguage]['notification-auto-expand-on']);
                    playSuccessSound();
                } else {
                    sidebarContainer.classList.add('no-hover');
                    localStorage.setItem('autoExpand', 'false');
                    showNotification(translations[currentLanguage]['notification-auto-expand-off']);
                    playSuccessSound();
                }
            });

            // 动画效果切换
            document.getElementById('animations').addEventListener('change', (e) => {
                if (e.target.checked) {
                    document.body.classList.remove('no-animations');
                    localStorage.setItem('animations', 'true');
                    showNotification(translations[currentLanguage]['notification-animations-on']);
                    playSuccessSound();
                } else {
                    document.body.classList.add('no-animations');
                    localStorage.setItem('animations', 'false');
                    showNotification(translations[currentLanguage]['notification-animations-off']);
                    playSuccessSound();
                }
            });

            // 语言选择
            languageSelect.addEventListener('change', (e) => {
                const lang = e.target.value;
                changeLanguage(lang);
                showNotification(`${translations[currentLanguage]['notification-language-changed']}${e.target.options[e.target.selectedIndex].text}`);
                playSuccessSound();
            });

            // 主题颜色选择
            document.querySelectorAll('.theme-color').forEach(color => {
                color.addEventListener('click', () => {
                    const themeIndex = parseInt(color.getAttribute('data-theme'));
                    applyTheme(themeIndex);

                    localStorage.setItem('selectedTheme', themeIndex);

                    const themeName = themes[themeIndex].name;
                    showNotification(`${translations[currentLanguage]['notification-theme-changed']}${themeName}${translations[currentLanguage]['notification-theme']}`);
                    playSuccessSound();
                });
            });

            // 声音提醒切换
            document.getElementById('sound-alerts').addEventListener('change', (e) => {
                soundEnabled = e.target.checked;
                localStorage.setItem('soundAlerts', soundEnabled);

                if (soundEnabled) {
                    showNotification(translations[currentLanguage]['notification-sound-alerts-on']);
                    playSuccessSound(); // 测试声音
                } else {
                    showNotification(translations[currentLanguage]['notification-sound-alerts-off']);
                }
            });

            // 其他设置项
            document.getElementById('desktop-notifications').addEventListener('change', (e) => {
                if (e.target.checked) {
                    showNotification(translations[currentLanguage]['notification-desktop-notifications-on']);
                    playSuccessSound();
                } else {
                    showNotification(translations[currentLanguage]['notification-desktop-notifications-off']);
                    playSuccessSound();
                }
            });

            document.getElementById('email-notifications').addEventListener('change', (e) => {
                if (e.target.checked) {
                    showNotification(translations[currentLanguage]['notification-email-notifications-on']);
                    playSuccessSound();
                } else {
                    showNotification(translations[currentLanguage]['notification-email-notifications-off']);
                    playSuccessSound();
                }
            });

            document.getElementById('browsing-history').addEventListener('change', (e) => {
                if (e.target.checked) {
                    showNotification(translations[currentLanguage]['notification-browsing-history-on']);
                    playSuccessSound();
                } else {
                    showNotification(translations[currentLanguage]['notification-browsing-history-off']);
                    playSuccessSound();
                }
            });

            document.getElementById('auto-save-forms').addEventListener('change', (e) => {
                if (e.target.checked) {
                    showNotification(translations[currentLanguage]['notification-auto-save-forms-on']);
                    playSuccessSound();
                } else {
                    showNotification(translations[currentLanguage]['notification-auto-save-forms-off']);
                    playSuccessSound();
                }
            });
        }

        // 页面加载完成后初始化应用
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>

</html>